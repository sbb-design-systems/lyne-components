@use '../core/functions';

@mixin scrollbar-rules {
  scrollbar-width: var(--sbb-scrollbar-width);
  scrollbar-color: var(--sbb-scrollbar-color, currentcolor)
    var(--sbb-scrollbar-track-color, transparent);
}

@mixin scrollbar-variables--size-thin {
  --sbb-scrollbar-width: thin;
}

@mixin scrollbar-variables--size-thick {
  --sbb-scrollbar-width: auto;
}

@mixin scrollbar-variables--color-positive {
  --sbb-scrollbar-color: light-dark(
    color-mix(in srgb, var(--sbb-color-black) 30%, transparent),
    color-mix(in srgb, var(--sbb-color-white) 30%, transparent)
  );
}

@mixin scrollbar-variables--color-positive-track-visible {
  --sbb-scrollbar-track-color: var(--sbb-background-color-4);
}

@mixin scrollbar-variables--color-negative {
  --sbb-scrollbar-color: color-mix(in srgb, var(--sbb-color-white) 30%, transparent);
}

@mixin scrollbar-variables--color-negative-track-visible {
  --sbb-scrollbar-track-color: var(--sbb-background-color-4-negative);
}

@mixin scrollbar-variables--track-invisible {
  --sbb-scrollbar-track-color: transparent;
}

@mixin scrollbar-variables($size: thin, $negative: false, $track-visible: false) {
  @if $size == thin {
    @include scrollbar-variables--size-thin;
  } @else {
    @include scrollbar-variables--size-thick;
  }

  @if $negative {
    @include scrollbar-variables--color-negative;
  } @else {
    @include scrollbar-variables--color-positive;
  }

  @if $track-visible and $negative {
    @include scrollbar-variables--color-negative-track-visible;
  } @else if $track-visible {
    @include scrollbar-variables--color-positive-track-visible;
  } @else {
    @include scrollbar-variables--track-invisible;
  }
}

@mixin scrollbar($size: thin, $negative: false, $track-visible: false) {
  @include scrollbar-variables($size, $negative, $track-visible);
  @include scrollbar-rules;
}
